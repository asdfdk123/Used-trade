<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>게시판 작성</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>게시판 작성</h1>
    <nav>
      <button onclick="location.href='board.html'">게시판 목록으로 돌아가기</button> <!-- 목록 페이지로 돌아가기 -->
      
    </nav>
    <div id="user-info">
        <span id="username"></span>님 (<span id="student_num"></span>)
        <button id="logout-btn">로그아웃</button>
    </div>
  </header>
  <main>
    <h2>게시글 작성</h2>
    <form id="post-form">
      <label for="title">제목:</label>
      <input type="text" id="title" required><br><br>

      <label for="book-title">책 제목:</label>
      <input type="text" id="book-title" required><br><br>

      <label for="author">저자:</label>
      <input type="text" id="author" required><br><br>

      <label for="publisher">출판사:</label>
      <input type="text" id="publisher" required><br><br>

      <label for="course-name">강의명:</label>
      <input type="text" id="course-name" ><br><br>

      <label for="price">가격:</label>
      <input type="text" id="price" required><br><br>

      <label for="content">내용:</label>
      <textarea id="content" rows="4" required></textarea><br><br>
      
      <button type="submit">작성</button>
    </form>
  </main>

  <script src="board.js"></script>
  <script>
    document.getElementById('post-form').addEventListener('submit', function(event) {
      event.preventDefault();

      // 입력된 게시글 정보 가져오기
      const title = document.getElementById('title').value;
      const bookTitle = document.getElementById('book-title').value;
      const author = document.getElementById('author').value;
      const publisher = document.getElementById('publisher').value;
      const courseName = document.getElementById('course-name').value;
      const price = document.getElementById('price').value;
      const content = document.getElementById('content').value;

      // 게시글 저장 (localStorage 사용)
      const posts = JSON.parse(localStorage.getItem('posts')) || [];
      posts.push({ 
        title, 
        bookTitle, 
        author, 
        publisher, 
        courseName,
        price, 
        content 
      });
      localStorage.setItem('posts', JSON.stringify(posts));

      // 저장 후 목록 페이지로 이동
      alert('게시글이 작성되었습니다.');
      location.href = 'board.html';
    });
  </script>
</body>
</html>
